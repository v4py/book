--- a/launch.py	2020-10-14 00:29:31.762426000 +0200
+++ b/launch.py	2020-10-14 00:35:14.322426000 +0200
@@ -61,7 +61,8 @@
         # Skip the rest because the repo_url isn't right
         return

-    branch = _get_branch(config_theme)
+    # Hardcode your gh-pages branch.
+    branch = "master"

     # Construct the extra URL parts (app and relative path)
     notebook_interface_prefixes = {"classic": "tree", "jupyterlab": "lab/tree"}
@@ -76,15 +77,12 @@
         )
     ui_pre = notebook_interface_prefixes[notebook_interface]

-    # Check if we have a non-ipynb file, but an ipynb of same name exists
-    # If so, we'll use the ipynb extension instead of the text extension
-    if extension != ".ipynb" and Path(path).with_suffix(".ipynb").exists():
-        extension = ".ipynb"
+    extension = ".ipynb"

     # Construct a path to the file relative to the repository root
-    book_relpath = config_theme.get("path_to_docs", "").strip("/")
-    if book_relpath != "":
-        book_relpath += "/"
+    # book_relpath should point to the _sources directory generated by
+    # JupyterBook.
+    book_relpath = "_sources/"
     path_rel_repo = f"{book_relpath}{pagename}{extension}"

     # Now build infrastructure-specific links
