
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1. Introduction &#8212; An Introduction to Python for Linguists</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://v4py.github.io/intro.html" />
    <link rel="shortcut icon" href="_static/v4py_logo.svg"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2. A tour of Python and NLTK" href="basics.html" />
    <link rel="prev" title="Welcome!" href="welcome.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/v4py_logo_wide.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">An Introduction to Python for Linguists</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  Authors
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference external" href="https://dlukes.github.io/">
   David Lukeš
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://ufal.mff.cuni.cz/rudolf-rosa">
   Rudolf Rosa
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Table of contents
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   1. Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="basics.html">
   2. A tour of Python and NLTK
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="unicode.html">
   3. Text inside the computer
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data.html">
   4. Getting your data into Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rest.html">
   5. Working with online resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="regex.html">
   6. Regular expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="outro.html">
   7. Parting words
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Links
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference external" href="https://ufal.mff.cuni.cz/">
   ÚFAL MFF UK
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://korpus.cz/">
   Czech National Corpus
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Sponsored by <a href="https://www.visegradfund.org/">Visegrad Fund</a> grant nr. 21820079 "Training Digital Scholars: Knowledge Exchange between V4 and Austria". Available under the terms of the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> license.
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="_sources/intro.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/intro.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/v4py/v4py.github.io"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/v4py/v4py.github.io/issues/new?title=Issue%20on%20page%20%2Fintro.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/v4py/v4py.github.io/edit/source/src/intro.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/v4py/v4py.github.io/master?urlpath=lab/tree/_sources/intro.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        <a class="jupyterhub-button" href="https://jupyter.korpus.cz//hub/user-redirect/git-pull?repo=https://github.com/v4py/v4py.github.io&urlpath=lab/tree/v4py.github.io/_sources/intro.ipynb&branch=master"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#why-programming">
   1.1. Why programming?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#target-audience">
   1.2. Target audience
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#python-gives-you-wings">
   1.3. Python gives you wings!
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-to-use-this-book">
   1.4. How to use this book
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#diving-right-in-a-frequency-analysis-of-this-text">
   1.5. Diving right in: a frequency analysis of this text
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="introduction">
<h1><span class="section-number">1. </span>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<blockquote class="epigraph">
<div><p>On second thought, let’s not go to <a class="reference external" href="https://en.wikipedia.org/wiki/Perl#Camel">Camel</a>ot. ’Tis a silly place.</p>
<p class="attribution">—King Arthur, Monty <a class="reference external" href="https://python.org">Python</a> and the Holy Grail</p>
</div></blockquote>
<div class="section" id="why-programming">
<h2><span class="section-number">1.1. </span>Why programming?<a class="headerlink" href="#why-programming" title="Permalink to this headline">¶</a></h2>
<p>When I suggest to fellow linguists that they might want to take up
programming as a way to supercharge their abilities to confront and
extract meaning from language data, I get a variety of responses. Among
the negative ones, two tend to dominate: a fear that it might be too
late to start anyway, and a dismissive attitude in the vein of “why
should I even care”.</p>
<p>Let’s examine these concerns in turn. Regarding the first one, it’s
never too late, trust me. I myself started programming at uni, and not
even in my first year. Back then, I thought I was interested in literary
studies, and it took me a while to realize that my interests lay
elsewhere. Programming is perhaps the easiest skill to acquire from the
comfort of your own home, without the need for formal training (though
of course interacting with a live teacher can help jumpstart your
learning). There’s a wealth of resources available via the internet,
this book being one example, and all you need to take full advantage of
them is a computer and an internet connection.</p>
<p>Much like any other learning experience, it’s also a <a class="reference external" href="https://nedbatchelder.com/blog/202003/how_long_did_it_take_you_to_learn_python.html">journey that never
really ends</a>.
There’s always room for improvement and for learning more, so you might
as well start now and get on with it. For my part, it’s been almost ten
years since I set out, and while I consider myself a fairly proficient
programmer by this point, I learn new stuff all the time. If you’re
anything like me, that sense of curiosity that got you into linguistics,
and perhaps even an academic career, is likely to be rewarded by
pursuing programming as well.</p>
<p>I would argue that this sense of curiosity is also what should prevent
you from having that second kneejerk negative response, “why should I
even care”. For my part, I can tell you that <strong>programming is very
likely the most useful skill I acquired since learning to read</strong>. It
really expanded the range of what I’m able to achieve not just in
linguistics, but in everyday life as well. Our society increasingly
relies on software to go about its daily business, and being able to
program puts me in much better control of the tools I must willy-nilly
use to be a part of it.</p>
<p>One concrete example: have you ever had a month to provide feedback on a
Microsoft Word document, only to find yourself pulling an all-nighter
just before the deadline because there just wasn’t time earlier, and
feeling ashamed of the trail of 3AM timestamps you’re leaving behind?
Word offers the nuclear option of removing all metadata in tracked
changes and comments across the board, but that includes author names,
which is very conspicuous and feels like an even more flagrant admission
of guilt, plus if there are multiple authors, you might need to keep
them anyway. Luckily, it turns out you can tease the document apart
using a <a class="reference external" href="https://gist.github.com/dlukes/2b5c2a163cd8adba420aaae0c8ea2c00">Python script</a>
and selectively target those pesky timestamps associated with your
username. (If this doesn’t sound familiar at all, then congratulations,
you don’t have OCD!)</p>
<p>But admittedly, these are just words, to see for yourself, you’re going
to have to get your hands dirty and spend some time learning what
programming feels like, and what it empowers you to do, what new,
unsuspected perspectives it opens. This book is an attempt to help you
get started on that path. And if it doesn’t strike a chord with you, it
might at least point you to <a class="reference internal" href="outro.html"><span class="doc std std-doc">other related resources</span></a>, some of
which will hopefully be a better fit.</p>
<p>If on the other hand, it turns out this book <em>is</em> a good fit for you,
then great! And if you end up on the fence, then please consider
helping us improve it for future readers like you. The source code of
this book lives in a <a class="reference external" href="https://github.com/v4py/v4py.github.io">GitHub
repository</a>. Please open issues
with requests for clarification, tips for improvement, or even just
typos!</p>
</div>
<div class="section" id="target-audience">
<h2><span class="section-number">1.2. </span>Target audience<a class="headerlink" href="#target-audience" title="Permalink to this headline">¶</a></h2>
<p>This book is intended as an introduction to programming using the
<a class="reference external" href="https://python.org">Python</a> programming language. No previous
programming experience is required, though a basic amount of <a class="reference external" href="https://www.learnenough.com/command-line-tutorial/basics#aside-technical_sophistication">technical
sophistication</a>
is needed; you will hopefully acquire a lot more by the time you’re done
reading it.</p>
<p>If you’ve programmed before, but not in Python, or even in Python, but
not with a focus on language data, you might still glean useful
information from this book, though the pace might feel sluggish at
times. And even if you feel at home in both these areas, there might be
tricks or gotchas addressed herein that will help you further refine
your skills, though of course your mileage may vary.</p>
<p>Finally, if you’ve never programmed, have no background in linguistics
and are not particularly computer-literate, reading this book might
prove somewhat challenging, though not impossible with the right amount
of dedication. If you make it through, or at least part-way, your
feedback on how to make the parts you struggled with more accessible
would be absolutely invaluable!</p>
</div>
<div class="section" id="python-gives-you-wings">
<h2><span class="section-number">1.3. </span>Python gives you wings!<a class="headerlink" href="#python-gives-you-wings" title="Permalink to this headline">¶</a></h2>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p><img alt="Python logo" src="https://www.python.org/static/community_logos/python-logo-generic.svg" /></p>
</div>
<p>So what is this <a class="reference external" href="https://python.org/">Python</a> business all about? I’ve
said before that learning programming was to me the most transformative
new skill since learning to read, but it can also prove an uphill
struggle. Python is a good entrypoint because it strikes a good balance
between simplicity and flexibility, making the learning experience fun
and rewarding and just enough challenging. The comic below might poke
fun at this claim to get overzealous Python advocates off their soapbox,
but by the same token, it shows that Python indeed has this sort of
general reputation, otherwise the joke wouldn’t work.</p>
<img alt="Python XKCD" class="align-center" src="https://imgs.xkcd.com/comics/python.png" />
<p>Credit: Randall Munroe, XKCD, <a class="reference external" href="https://xkcd.com/353/">https://xkcd.com/353/</a></p>
<p>Jokes aside though (which is sort of hard to do in a language named
after <a class="reference external" href="https://en.wikipedia.org/wiki/Monty_Python">Monty Python’s Flying
Circus</a>), the key reason why
Python exhibits these desirable properties is that it was designed with
teachability to <a class="reference external" href="https://blog.dropbox.com/topics/work-culture/-the-mind-at-work--guido-van-rossum-on-how-python-makes-thinking">curious amateurs</a>
as a primary goal, and it has stayed an important concern during the
thirty odd years that Python has evolved and matured since its first
public release in 1990. The result is an approachable programming
language which emphasizes readable and easily understandable code –
properties which are crucial for beginners, but which also appeal to
many seasoned programmers. After all, the computer doesn’t care, so we
might as well make the language as easy as possible for humans to wrap
their head around – is the general idea.</p>
<blockquote class="epigraph">
<div><p>I don’t know how well people know ABC’s influence on Python. […] ABC’s
design had a very clear, sharp focus. ABC was intended to be a
programming language that could be taught to intelligent computer users
who were not computer programmers or software developers in any sense.</p>
<p class="attribution">—Guido van Rossum, creator of Python, in <a class="reference external" href="https://www.artima.com/intv/python.html"><em>The Making of Python</em></a></p>
</div></blockquote>
<p>Python was also designed as a <strong>general purpose language</strong>, i.e. it is
intended to enable its users to build all kinds of programs in a variety
of different domains (though as every programming language, it
particularly shines in some and is less well-suited for others). A
possible disadvantage of this inclusive approach is that it may be a bit
harder to find one’s way around the ecosystem of tools and libraries for
a particular purpose (e.g. statistics or data science), but it pays off
in that you’re not limited by the one intended use, which is a good
thing whenever you embark on a bigger project. And Python encourages you
to do that, making it relatively easy to split your code into reusable
modules and manage the complexity inherent in that.</p>
<p>Contrast this with another high-level programming language that
non-programmers often tend to run into – as a linguist, you might be
familiar with <a class="reference external" href="https://www.r-project.org/">R</a>. R is very specifically
focused on data analysis, the use case it optimizes for is calling
existing statistical functions in an interactive session, and for that,
it works admirably well. For anything else though, it can get really
ugly. Since “regular” users are mostly meant to consume functions rather
than write their own, there is a big gap between the elegant way in
which these functions are called, and the messy code with which they’re
implemented. To be clear, I don’t mean to say that the code is messy
because the people who wrote it are bad programmers; it’s messy because
R deliberately made some tradeoffs which make it a complicated language
to write larger, reusable pieces of code in, while at the same time
making these functions somewhat easier to use.</p>
<p>As a consequence, with R, beginners tend to run up against a wall when
trying to use it for anything that’s not easily achieved by an existing
library, and though it deserves an honorable mention for having a lot of
libraries with useful functionality, some of them very well-designed
(I’m looking at you, <a class="reference external" href="https://tidyverse.org/"><code class="docutils literal notranslate"><span class="pre">tidyverse</span></code></a>), it’s one of
the laws of programming that there will always be at least this one
thing in your project that there is no existing library for (or maybe
there is, but you can’t seem to find it). Not to mention that if you
ever get interested in other areas of programming, R’s laser-sharp focus
on data analysis can become a drawback, as it makes R programming skills
less transferrable.</p>
<p>This is not to say that Python is a panacea to all, or that it doesn’t
have drawbacks of its own. It definitely does. My point is simply that
it has a much more consistent and gradual learning curve, which makes it
less likely you’ll quit in frustration, and helps you graduate from
beginner to intermediate to advanced over time. Perhaps you like R –
and that’s totally fine – but you never got over that hump which
separates people who use R packages from people who write them. Learning
Python might actually be a good way to get there, by improving your
general programming skills to a point where you’ll feel confident to
tackle that uglier side of R.</p>
<p>Python’s philosophy can be summed up by the guiding principles contained
in <em>The Zen of Python</em>, which you can print out in a Python session by
importing the <code class="docutils literal notranslate"><span class="pre">this</span></code> module. Especially the first four entries are key
to the argument that I’m trying to make here:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">this</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren&#39;t special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you&#39;re Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it&#39;s a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let&#39;s do more of those!
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="how-to-use-this-book">
<h2><span class="section-number">1.4. </span>How to use this book<a class="headerlink" href="#how-to-use-this-book" title="Permalink to this headline">¶</a></h2>
<p>This book actually consists of a series of <a class="reference external" href="https://jupyter.org/">Jupyter
notebooks</a>, which is a file format, recognizable
by its <code class="docutils literal notranslate"><span class="pre">.ipynb</span></code> extension, which intermixes expository prose with
programming code. It can be opened using the
<a class="reference external" href="https://jupyterlab.readthedocs.io/">JupyterLab</a> application, which runs
in your browser. In the notebooks, code is stored inside code cells
which can be modified and run at will, which encourages interactive
exploration and makes learning easier. This is what a code cell looks
like:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<p>You can see the code cell’s output right below it – in this case, it’s
a plain old <code class="docutils literal notranslate"><span class="pre">2</span></code>.</p>
<p>If you can, it’s a great idea to follow along in JupyterLab, running the
code in each chapter of the book yourself and tinkering with it. There
are several options for that. The easiest one is to use either the
<strong>Binder</strong> or <strong>JupyterHub</strong> buttons under the <i class="fas fa-rocket"></i>
icon at the top of the page, which will take care of everything for you
and open an interactive version of this text in your browser, without
you needing to install anything on your computer.</p>
<p>Note that the second button requires that you have an account at
<a class="reference external" href="https://jupyter.korpus.cz">https://jupyter.korpus.cz</a> (attendees of the V4Py summer school do).
The notebook corresponding to the chapter you’re reading should
automatically open; if it doesn’t, try reloading the page, or as a last
resort, navigating to the <code class="docutils literal notranslate"><span class="pre">v4py.github.io</span></code> folder and opening the
appropriate notebook manually.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>If you do end up installing Python yourself, make sure you install
<strong>Python 3</strong>. The previous major version, Python 2, has reached
end-of-life at the end of 2019 and is no longer in active development.
For a beginning programmer with an interest in linguistics, Python 3 is
an improvement in every way, because it is much stricter about how it
handles text data, making data corruption or silent processing errors
which yield spurious results much less likely.</p>
</div>
<p>If you want to install Python on your own computer and run JupyterLab
locally, I would suggest using <a class="reference external" href="https://www.anaconda.com/distribution/">the Anaconda
Distribution</a>, which installs
Python alongside many popular additional packages and libraries for data
analysis. In that case, you’ll be opening JupyterLab via the <a class="reference external" href="https://docs.anaconda.com/anaconda/navigator/">Anaconda
Navigator</a>, and you’ll
need to <a class="reference external" href="https://github.com/v4py/v4py.github.io/archive/master.zip">download the notebooks
manually</a>
(after unzipping, the notebooks are in the <code class="docutils literal notranslate"><span class="pre">content/</span></code> subdirectory). If
you don’t mind downloading the notebooks individually, you can also use
the download button at the top of the page, but that won’t get you any
of the additional files that some of the notebooks rely on.</p>
<p>If you want to learn more about using notebooks, <a class="reference external" href="https://github.com/jupyter/jupyter/wiki/A-gallery-of-interesting-Jupyter-Notebooks">here’s a gallery of
interesting notebooks to help you get acquainted with the
format</a>,
including some introductory tutorials on how to use it right. The
JupyterLab notebook user interface is described in more detail in <a class="reference external" href="https://jupyterlab.readthedocs.io/en/latest/user/notebook.html">their
docs</a>.
Finally, some usage tips which I personally find useful can be found in
the <a class="reference external" href="https://dlukes.github.io/jupyter-magic.html">this blog post</a>.</p>
</div>
<div class="section" id="diving-right-in-a-frequency-analysis-of-this-text">
<h2><span class="section-number">1.5. </span>Diving right in: a frequency analysis of this text<a class="headerlink" href="#diving-right-in-a-frequency-analysis-of-this-text" title="Permalink to this headline">¶</a></h2>
<p>To get our feet wet, let’s do a quick frequency analysis of the text
you’re currently reading. If you’ve never programmed before, don’t worry
if parts (or all) of the code below seems a little mysterious!  We’ll
cover all of that in much more detail in the following chapters.
However, before we dive into the particulars, I think it’s a good idea
to get acquainted with what actual useful Python code looks like, so
that we have a general picture of where we’re headed. Without a global
perspective and a clear goal in our heads, it’s easy to get discouraged
by the many seemingly unconnected details that await us along the way.</p>
<p>So take a while to look at each code chunk below, try and figure out
what its purpose might be and how it achieves it, try and discover
repeating patterns in Python’s syntax and their meaning. Read the
commentary and let the programming vocabulary soak into your brain. It’s
alright to be confused, it’s OK not to understand precisely what each
and every word means. The goal at this point is to get familiar with how
Python code looks and how the terminology sounds, even if you don’t
fully understand what’s happening yet.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p><strong>HTML</strong> is the <a class="reference external" href="https://en.wikipedia.org/wiki/HTML">Hypertext Markup
Language</a> and it’s what web pages
are built from, specifically their structure. Layout is mostly done
using <a class="reference external" href="https://en.wikipedia.org/wiki/Cascading_Style_Sheets">CSS</a> and
interactive features with
<a class="reference external" href="https://en.wikipedia.org/wiki/JavaScript">JavaScript</a>.</p>
</div>
<p>We start by <strong>importing</strong> <code class="docutils literal notranslate"><span class="pre">HTMLSession</span></code> from the
<a class="reference external" href="http://html.python-requests.org"><code class="docutils literal notranslate"><span class="pre">requests_html</span></code></a> <strong>library</strong>, which
contains functionality related to fetching HTML pages from the web.  We
create a fresh <code class="docutils literal notranslate"><span class="pre">HTMLSession</span></code> <strong>object</strong> and store it in the <code class="docutils literal notranslate"><span class="pre">session</span></code>
<strong>variable</strong>. Think of it as a simple web browser inside Python.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">requests_html</span> <span class="kn">import</span> <span class="n">HTMLSession</span>

<span class="n">session</span> <span class="o">=</span> <span class="n">HTMLSession</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p><strong>HTTP</strong> stands for <a class="reference external" href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol">Hypertext Transfer
Protocol</a>.
It’s the main protocol used for sending around data on the web.</p>
</div>
<p>We can fetch the page you’re currently reading by calling the <code class="docutils literal notranslate"><span class="pre">get()</span></code>
<strong>method</strong> of the <code class="docutils literal notranslate"><span class="pre">session</span></code> object and passing it the link to this
website as an <strong>argument</strong>. We get back an HTTP response.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">link</span> <span class="o">=</span> <span class="s2">&quot;https://v4py.github.io/intro.html&quot;</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Inspecting the <code class="docutils literal notranslate"><span class="pre">response</span></code> variable, we see <code class="docutils literal notranslate"><span class="pre">&lt;Response</span> <span class="pre">[200]&gt;</span></code>. <code class="docutils literal notranslate"><span class="pre">200</span></code> is
the <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status">HTTP status
code</a> which
indicates that all went well with our request and we received a
sucessful response.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Response [200]&gt;
</pre></div>
</div>
</div>
</div>
<p>If we don’t know or remember which HTTP status code is which, we can
check that everything is fine by inspecting the <code class="docutils literal notranslate"><span class="pre">.ok</span></code> <strong>attribute</strong> on
the <code class="docutils literal notranslate"><span class="pre">response</span></code> object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span><span class="o">.</span><span class="n">ok</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>The contents of the web page are stored in the <code class="docutils literal notranslate"><span class="pre">.html</span></code> attribute of the
<code class="docutils literal notranslate"><span class="pre">response</span></code> object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;HTML url=&#39;https://v4py.github.io/intro.html&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>That attribute is itself an object with attributes and methods of its
own, which allow us to inspect it and manipulate it. For instance, it
has in turn its own <code class="docutils literal notranslate"><span class="pre">.html</span></code> attribute, which contains the raw HTML code
underlying the web page you’re reading, stored as a <strong>string</strong> of
<strong>characters</strong>. We can take a look at a <strong>slice</strong> of the first 50
characters of the string using the <code class="docutils literal notranslate"><span class="pre">[:50]</span></code> syntax, just to make sure we
downloaded the right document. If you’re running this notebook inside
JupyterLab, you can delete the square brackets and inspect the full
HTML; I’ve not done that here to save some space.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">html</span><span class="p">[:</span><span class="mi">50</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;\n&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charse&#39;
</pre></div>
</div>
</div>
</div>
<p>Uh-oh, I don’t remember reading anything about any doctypes at the
beginning of this text. What’s this all about? Well this is all part of
the HTML language, which tells your browser how to display this web
page. Trouble is, from our point of view as linguists, this is just junk
that we need to get rid of. One thing we could try is the <code class="docutils literal notranslate"><span class="pre">.text</span></code>
attribute, which extracts only the text parts of a web page.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the first 50 characters</span>
<span class="n">response</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">text</span><span class="p">[:</span><span class="mi">50</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;1. Introduction — An Introduction to Python for Li&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the last 50 characters</span>
<span class="n">response</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">text</span><span class="p">[</span><span class="o">-</span><span class="mi">50</span><span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;le under the terms of the CC BY-NC-SA 4.0 license.&#39;
</pre></div>
</div>
</div>
</div>
<p>That looks promising, although this still includes header and footer
text which we might want to exclude from our analysis if we’re being
pedantic. Furthermore, JavaScript programs (which add interactivity to
the page; surrounded by <code class="docutils literal notranslate"><span class="pre">&lt;script/&gt;</span></code> tags) or CSS styles (which define
the layout and other aesthetic aspects of the page; surrounded by
<code class="docutils literal notranslate"><span class="pre">&lt;style/&gt;</span></code> tags) might be hiding in the middle of all this. These
elements are invisible when you read the rendered page in a browser, but
unfortunately, they count as “text”.</p>
<p>More broadly, some pages simply might not be so well-behaved and yield
such good results out-of-the-box. So let’s learn a technique to zero in
on what you want in a sea of HTML.</p>
<p>We first need to figure out which parts of the HTML enclose the content
we’re interested in. For that, we’ll use our browser’s inspector tools.
If you right click anywhere on this page, you should get a menu where
one of the items says something like <em>Inspect</em> or <em>Inspect Element</em>.
Click on that and a pane will open beside the page which lets you peek
under the hood of this page. If you right click on this paragraph
specifically and select <em>Inspect Element</em>, the inspector will focus on
where in the HTML hierarchy this particular paragraph is placed.</p>
<img alt="Firefox inspector screenshot" class="align-center" src="_images/inspector.png" />
<p>We can see that this paragraph is ultimately contained within a <code class="docutils literal notranslate"><span class="pre">&lt;div/&gt;</span></code>
HTML element which has an ID of <code class="docutils literal notranslate"><span class="pre">main-content</span></code>. This sounds promising –
hopefully, all of the main, interesting content on the page should be
placed under this <code class="docutils literal notranslate"><span class="pre">div</span></code> somewhere, otherwise the ID is a real misnomer.
So let’s go on a limb here and retrieve that <code class="docutils literal notranslate"><span class="pre">div</span></code> using the <code class="docutils literal notranslate"><span class="pre">.find()</span></code>
method. This method uses <a class="reference external" href="https://www.w3schools.com/cssref/css_selectors.asp">CSS selectors</a> to slice and
dice the page; all we need to know right now is that the syntax to find
an HTML element by its ID is to prefix the ID with a hash symbol (also
called pound sign or octothorpe), so <code class="docutils literal notranslate"><span class="pre">#main-content</span></code> in our case. We get
back a <strong>list</strong> of <code class="docutils literal notranslate"><span class="pre">div</span></code>s; the <code class="docutils literal notranslate"><span class="pre">clean=True</span></code> <strong>keyword argument</strong> makes
sure that we throw away those pesky invisible <code class="docutils literal notranslate"><span class="pre">&lt;script/&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;style/&gt;</span></code>
tags, if any.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">divs</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;#main-content&quot;</span><span class="p">,</span> <span class="n">clean</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">divs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;Element &#39;div&#39; id=&#39;main-content&#39; class=(&#39;row&#39;,)&gt;]
</pre></div>
</div>
</div>
</div>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>Apart from <code class="docutils literal notranslate"><span class="pre">id</span></code> attributes, another common way of selecting HTML
elements is via <code class="docutils literal notranslate"><span class="pre">class</span></code> attributes. Each element should have only one,
unique <code class="docutils literal notranslate"><span class="pre">id</span></code>, but it can have multiple classes and share them with other
elements. E.g. on the page you’re reading, all of the cells with Python
code live inside <code class="docutils literal notranslate"><span class="pre">div</span></code>s with a <code class="docutils literal notranslate"><span class="pre">class</span></code> of <code class="docutils literal notranslate"><span class="pre">cell_input</span></code> (see for yourself
with <em>Inspect Element</em>). The resulting lists can thus easily have more
than one element. Try it out! Class selectors start with <code class="docutils literal notranslate"><span class="pre">.</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">#</span></code>. And here’s how you can join a list of <code class="docutils literal notranslate"><span class="pre">div</span></code>s into one big string
using <code class="docutils literal notranslate"><span class="pre">\n</span></code>ewlines: <code class="docutils literal notranslate"><span class="pre">&quot;\n&quot;.join(div.text</span> <span class="pre">for</span> <span class="pre">div</span> <span class="pre">in</span> <span class="pre">divs)</span></code>.</p>
</div>
<p>The list has a single <code class="docutils literal notranslate"><span class="pre">div</span></code> element, which makes sense – IDs should be
unique, so the entire document has just one element which matches the
selector <code class="docutils literal notranslate"><span class="pre">#main-content</span></code>. We can again use the <code class="docutils literal notranslate"><span class="pre">[...]</span></code> syntax to reach
into the list, but this time, we put a single number between the square
brackets, because we want to access a single element, not a slice.
Additionally, lists in Python are numbered starting from 0, so the way
to refer to the first and only item in the list is as <code class="docutils literal notranslate"><span class="pre">divs[0]</span></code>. We can
then retrieve the text inside the <code class="docutils literal notranslate"><span class="pre">div</span></code> as one long string via its
<code class="docutils literal notranslate"><span class="pre">.text</span></code> attribute, as previously.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">string</span> <span class="o">=</span> <span class="n">divs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
<span class="n">string</span><span class="p">[:</span><span class="mi">30</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;1. Introduction¶\nOn second tho&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">string</span> <span class="o">=</span> <span class="n">divs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
<span class="n">string</span><span class="p">[</span><span class="o">-</span><span class="mi">30</span><span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;t\n2. A tour of Python and NLTK&#39;
</pre></div>
</div>
</div>
</div>
<p>This is starting to look good! Just to see how much stuff we’ve gotten
rid of, we can compare the number of characters using the <code class="docutils literal notranslate"><span class="pre">len()</span></code>
<strong>function</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">full_text</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">text</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(33964, 32937, 31438)
</pre></div>
</div>
</div>
</div>
<p>(Hmpf. That’s not a whole lot – in this case, we’re probably just being
pedantic. But like I said, in general, the results out-of-the-box can
vary, or you might want to focus on just part of the content, so this
technique is still worth knowing about.)</p>
<p>Now in order to do a frequency analysis, we need to split that text into
words or <strong>tokens</strong>, which is a technical term used when we want to
avoid the kind of philosophical hairsplitting that linguists sometimes
engage in with respect to what is or is not a word. Referring to words
as ‘tokens’ is basically a way of saying, “I don’t want to pick a fight
about the precise meaning of ‘word’ right now, I made a pragmatic
decision to split the text into pieces which broadly make sense, but of
course reasonable people might disagree on the details.” It also allows
us to be precise that we are referring to specific <em>instances</em> of words.
The word ‘word’ is ambiguous, a sentence like “I know I screwed up.” can
be described as containing either 5 (total running) words or 4
(different) words. If we want to avoid confusion, we can say instead
that it consists of <strong>5 tokens</strong> and <strong>4 types</strong>.</p>
<p>Word-splitting or <strong>tokenization</strong> is a trickier problem than it might
seem at first glance, because punctuation keeps getting in the way. So
let’s not do it manually ourselves, let’s use instead the
<code class="docutils literal notranslate"><span class="pre">word_tokenize()</span></code> function in the <a class="reference external" href="http://www.nltk.org/"><code class="docutils literal notranslate"><span class="pre">nltk</span></code></a>
library, which hopefully covers some of the edge cases we wouldn’t think
of right off the bat if we were to implement it ourselves off the top of
our head. This function <strong>returns</strong> a list of strings, and again we can
do a sanity check by inspecting a slice of it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>

<span class="n">tokenized</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">word_tokenize</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="n">tokenized</span><span class="p">[</span><span class="mi">100</span><span class="p">:</span><span class="mi">115</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;of&#39;,
 &#39;“&#39;,
 &#39;why&#39;,
 &#39;should&#39;,
 &#39;i&#39;,
 &#39;even&#39;,
 &#39;care&#39;,
 &#39;”&#39;,
 &#39;.&#39;,
 &#39;let&#39;,
 &#39;’&#39;,
 &#39;s&#39;,
 &#39;examine&#39;,
 &#39;these&#39;,
 &#39;concerns&#39;]
</pre></div>
</div>
</div>
</div>
<p>Looks fine. Notice that before tokenizing the string, we converted in to
<strong>lowercase</strong> using the <code class="docutils literal notranslate"><span class="pre">.lower()</span></code> <strong>method</strong>. This is because in our
frequency analysis, we probably don’t want to make a distinction between
e.g. <code class="docutils literal notranslate"><span class="pre">token</span></code> and <code class="docutils literal notranslate"><span class="pre">Token</span></code>. They refer to the same thing, so they should
be counted together, but the computer doesn’t know that, as far as it’s
concerned, <code class="docutils literal notranslate"><span class="pre">token</span></code> is as different from <code class="docutils literal notranslate"><span class="pre">Token</span></code> as it is from
<code class="docutils literal notranslate"><span class="pre">grapefruit</span></code>, so it’s our job to make them exactly the same by
lowercasing everything beforehand. We can measure the length of the list
and thus get the number of tokens using the <code class="docutils literal notranslate"><span class="pre">len()</span></code> function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">tokenized</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6594
</pre></div>
</div>
</div>
</div>
<p>That’s quite a lot, thanks for reading so far!</p>
<p>But hang on, that count is likely to be somewhat inflated. First of all,
a lot of the tokens in the <code class="docutils literal notranslate"><span class="pre">tokenized</span></code> list are junk, at least
linguistically speaking, they are special characters related to the
notebook format.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tokenized</span><span class="p">[:</span><span class="mi">15</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;1.&#39;,
 &#39;introduction¶&#39;,
 &#39;on&#39;,
 &#39;second&#39;,
 &#39;thought&#39;,
 &#39;,&#39;,
 &#39;let&#39;,
 &#39;’&#39;,
 &#39;s&#39;,
 &#39;not&#39;,
 &#39;go&#39;,
 &#39;to&#39;,
 &#39;camelot&#39;,
 &#39;.&#39;,
 &#39;’&#39;]
</pre></div>
</div>
</div>
</div>
<p>Second of all, it doesn’t take a linguist to realize that the most
common words in an English text will be words like <code class="docutils literal notranslate"><span class="pre">a</span></code> or <code class="docutils literal notranslate"><span class="pre">the</span></code>. We
probably don’t want to include those in our frequency analysis, since
they’re not very interesting, they don’t tell us a lot. Luckily, <code class="docutils literal notranslate"><span class="pre">nltk</span></code>
has a list of these uninteresting <strong>stopwords</strong> for English which we can
load and store in a <strong>set</strong>, so that we can quickly check if a given
token is a stopword or not. The stopwords are stored in their lowercase
form, so it comes in handy that we already lowercased our input string
prior to tokenizing it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>

<span class="n">stop_list</span> <span class="o">=</span> <span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s2">&quot;english&quot;</span><span class="p">)</span>
<span class="n">stop_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stop_list</span><span class="p">)</span>
<span class="n">stop_list</span><span class="p">[:</span><span class="mi">15</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;i&#39;,
 &#39;me&#39;,
 &#39;my&#39;,
 &#39;myself&#39;,
 &#39;we&#39;,
 &#39;our&#39;,
 &#39;ours&#39;,
 &#39;ourselves&#39;,
 &#39;you&#39;,
 &quot;you&#39;re&quot;,
 &quot;you&#39;ve&quot;,
 &quot;you&#39;ll&quot;,
 &quot;you&#39;d&quot;,
 &#39;your&#39;,
 &#39;yours&#39;]
</pre></div>
</div>
</div>
</div>
<p>We can now get rid of any unwanted tokens. The following code snippet is
a bit more complicated than the previous ones, it involves some
non-linear <strong>control flow</strong>, which is a fancy way of saying the code
doesn’t just linearly execute from top to bottom, but it can run around
in circles for a while (the <strong>for</strong> statement) or potentially skip some
parts depending on whether a condition <strong>evaluates</strong> to true or false
(the <strong>if</strong> statement).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a new empty</span>
<span class="n">cleaned</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1"># iterate over all the tokens in the tokenized list</span>
<span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokenized</span><span class="p">:</span>
    <span class="c1"># check if current token is &quot;interesting&quot;</span>
    <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()</span> <span class="ow">and</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop_set</span><span class="p">:</span>
        <span class="c1"># if so, append it to the cleaned list</span>
        <span class="n">cleaned</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">cleaned</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2510
</pre></div>
</div>
</div>
</div>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>‡ At least partially – if you actually inspect the contents of <code class="docutils literal notranslate"><span class="pre">cleaned</span></code>,
you’ll see that it still contains many tokens, like <code class="docutils literal notranslate"><span class="pre">cells</span></code> or
<code class="docutils literal notranslate"><span class="pre">metadata</span></code>, which look like regular words, but they don’t occur in this
text, they’re part of the notebook format structure.</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">cleaned</span></code> is a lot shorter than <code class="docutils literal notranslate"><span class="pre">tokenized</span></code>, so it looks like it
worked!‡ Note how Python uses <strong>indentation</strong> to encode the hierarchy
of <strong>statements</strong> in the code: everything which is indented under the
<strong>for-loop header</strong> on the second line is part of the <strong>for-loop body</strong>
and gets executed for each token in the tokenized list. Similarly,
everything indented under the <strong>if header</strong> only gets executed if the
conditional <strong>expression</strong> is satisfied. By dedenting, we escape the
tyranny of those fors and ifs, so that the last line gets executed only
once, after the for-loop has completed.</p>
<p>Notice also that with suitably chosen variable names, Python code can
read almost like English. Readability is one of Python’s main strengths,
though it can sometimes be a pitfall for beginners – when they’re not
sure how to do something in Python, they try to write it in an
English-like way and hope for the best, but this approach can yield
valid Python code which however does something different than the plain
English interpretation would suggest.</p>
<p>We are now finally in a position to create a <strong>frequency distribution</strong>,
using the <code class="docutils literal notranslate"><span class="pre">nltk.FreqDist</span></code> <strong>class</strong>. It’s easy, we just pass it our list
of clean tokens.</p>
<div class="margin sidebar">
<p class="sidebar-title"></p>
<p>Each object in Python has a <strong>type</strong>. Some of those are built-in, like
strings, lists or sets. But users can also define new types of their
own; those are called <strong>classes</strong>. <code class="docutils literal notranslate"><span class="pre">nltk.FreqDist</span></code> is one of those
user-defined types.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">freq_dist</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">cleaned</span><span class="p">)</span>
<span class="n">freq_dist</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FreqDist({&#39;python&#39;: 49, &#39;code&#39;: 27, &#39;programming&#39;: 24, &#39;get&#39;: 22, &#39;one&#39;: 22, &#39;might&#39;: 20, &#39;like&#39;: 19, &#39;page&#39;: 17, &#39;way&#39;: 16, &#39;using&#39;: 16, ...})
</pre></div>
</div>
</div>
</div>
<p>We can access individual <strong>values</strong> inside the frequency distribution by
requesting them using the corresponding <strong>key</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">freq_dist</span><span class="p">[</span><span class="s2">&quot;python&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>49
</pre></div>
</div>
</div>
</div>
<p>We can also list the top <span class="math notranslate nohighlight">\(n\)</span> items using the <code class="docutils literal notranslate"><span class="pre">.most_common()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">freq_dist</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;python&#39;, 49),
 (&#39;code&#39;, 27),
 (&#39;programming&#39;, 24),
 (&#39;get&#39;, 22),
 (&#39;one&#39;, 22),
 (&#39;might&#39;, 20),
 (&#39;like&#39;, 19),
 (&#39;page&#39;, 17),
 (&#39;way&#39;, 16),
 (&#39;using&#39;, 16)]
</pre></div>
</div>
</div>
</div>
<p>Based on the most frequent lexical items, it looks like this is a text
about Python programming and language data! That checks out.</p>
<p>Finally, we can visualize this result using a wordcloud, to get a quick
and intuitive overview of these important words.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">corpy.vis</span> <span class="kn">import</span> <span class="n">wordcloud</span>

<span class="n">wordcloud</span><span class="p">(</span><span class="n">freq_dist</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="n">rounded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/intro_45_0.png" src="_images/intro_45_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;wordcloud.wordcloud.WordCloud at 0x7f0b6e65ac70&gt;
</pre></div>
</div>
</div>
</div>
<p>Whew! That was actually a lot of work. Now that we’ve figured out how to
do this, we could package all of these steps into a reusable recipe, so
that we don’t have to re-cobble all of this together if we want to run a
same analysis on a different chapter. We can do so by writing a
function. Again, as with for-loops and if statements, everything that’s
indented under the function header starting with <code class="docutils literal notranslate"><span class="pre">def</span></code> is part of the
function body, and will be run step by step each time the function is
<strong>called</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">chapter_wordcloud</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="n">rounded</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">HTMLSession</span><span class="p">()</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">link</span><span class="p">)</span>
    <span class="n">divs</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">html</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;#main-content&quot;</span><span class="p">,</span> <span class="n">clean</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># we expect just one div, abort if there are more, otherwise we&#39;d</span>
    <span class="c1"># silently ignore some content (it shouldn&#39;t happen, but just in</span>
    <span class="c1"># case)</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">divs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;Expected one div with ID main-content, found more!&quot;</span>
    <span class="n">string</span> <span class="o">=</span> <span class="n">divs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
    <span class="n">tokenized</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">word_tokenize</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
    <span class="n">stop_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s2">&quot;english&quot;</span><span class="p">))</span>
    <span class="n">cleaned</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokenized</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">isalpha</span><span class="p">()</span> <span class="ow">and</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop_set</span><span class="p">:</span>
            <span class="n">cleaned</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>
    <span class="c1"># if we want just the wordcloud, we can also directly create it from</span>
    <span class="c1"># a list of tokens, without making an intermediate nltk.FreqDist</span>
    <span class="k">return</span> <span class="n">wordcloud</span><span class="p">(</span><span class="n">cleaned</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="n">rounded</span><span class="o">=</span><span class="n">rounded</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">return</span></code> keyword specifies the result that the function spits out at
the other end. Once the function reaches a return statement, it stops
execution and gives the result back to whoever called the function.</p>
<p>We can now easily create a wordcloud based on the final chapter of this
book, for comparison.</p>
<div class="cell tag_full-width docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_wordcloud</span><span class="p">(</span><span class="s2">&quot;https://v4py.github.io/outro.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/intro_49_0.png" src="_images/intro_49_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;wordcloud.wordcloud.WordCloud at 0x7f0b6fe40100&gt;
</pre></div>
</div>
</div>
</div>
<p>Indeed, we can use this function on any chapter in any online book
created (much like the present book) with the
<a class="reference external" href="https://jupyterbook.org/">jupyter-book</a> package, because they all use
the same HTML structure. For instance, here’s a wordcloud of the chapter
on <a class="reference external" href="https://www.textbook.ds100.org/ch/13/text_regex.html"><em>Regular
Expressions</em></a> from
the book <a class="reference external" href="https://www.textbook.ds100.org/"><em>Principles and Techniques of Data
Science</em></a>.</p>
<div class="cell tag_full-width docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chapter_wordcloud</span><span class="p">(</span><span class="s2">&quot;https://www.textbook.ds100.org/ch/13/text_regex.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/intro_51_0.png" src="_images/intro_51_0.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;wordcloud.wordcloud.WordCloud at 0x7f0b6a1baf70&gt;
</pre></div>
</div>
</div>
</div>
<p>This is the real power of programming: once you’ve figured out and
tweaked a processing and analysis recipe, you can apply it to similar
data with lightning speed and each time consistently in exactly the same
way.</p>
<p>To wrap up, let me reiterate that I realize this is a lot to take in if
this is your first time seeing Python code, and even more so if this is
your first time seeing any programming language code whatsoever. Again,
it’s totally fine if you don’t understand all the details at this point.
I encourage you to revisit this extended worked example once you’re done
reading the book, as a way to reflect on what you’ve learned and bring
it all together.</p>
<!-- TODO: Quantitative analysis of text data ultimately always boils
down to frequency or dispersion. Add an example of dispersion at some
point -- probably a dispersion plot. And say this explicitly. This
chapter might already be too crowded, although it would be nice to
mention this principle early on. -->
<!-- vim: set spell spelllang=en: --></div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="welcome.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Welcome!</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="basics.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title"><span class="section-number">2. </span>A tour of Python and NLTK</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By David Lukeš, Rudolf Rosa<br/>
        
            &copy; Copyright 2020–present.<br/>
          <div class="extra_footer">
            Sponsored by <a href="https://www.visegradfund.org/">Visegrad Fund</a> grant nr. 21820079 "Training Digital Scholars: Knowledge Exchange between V4 and Austria". Available under the terms of the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> license.
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>